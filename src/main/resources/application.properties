spring.application.name=Raon

# Tomcat Server Port
server.port=8086

# Context Path
server.servlet.context-path=/raon

# Error handling - throw exceptions for 404s to be caught by GlobalExceptionHandler
spring.mvc.throw-exception-if-no-handler-found=true

# Active Profile (dev, prod)
spring.profiles.active=${SPRING_PROFILE:dev}

# MySQL 연결 (공통)
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA (공통)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
# data.sql 자동 실행 비활성화 (필요시 수동으로 실행)
spring.sql.init.mode=never
spring.sql.init.continue-on-error=true


# Default AI Configuration
persoai.default.llm-type=azure-gpt-4o
persoai.default.tts-type=k_idol_m_2_zino
persoai.default.stt-type=default
persoai.default.model-style=k_idol_m_2_zino-front-white_blouse-natural
persoai.default.prompt=plp-275c194ca6b8d746d6c25a0dec3c3fdb
persoai.default.document=pld-c2104dc3d8165c42f60bcf8217c19bc8

# Session timeout (in seconds)
persoai.session.timeout=1800

# PersoAI API
persoai.api.server=https://live-api.perso.ai
persoai.api.key=${PERSOAI_API_KEY}

# OAuth2 공통 설정
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}

spring.security.oauth2.client.registration.kakao.client-id=${KAKAO_CLIENT_ID}
spring.security.oauth2.client.registration.kakao.client-secret=${KAKAO_CLIENT_SECRET}
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.kakao.client-authentication-method=client_secret_post
spring.security.oauth2.client.registration.kakao.scope=profile_nickname,profile_image
spring.security.oauth2.client.registration.kakao.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}


# 카카오 Provider 설정
spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me
spring.security.oauth2.client.provider.kakao.user-name-attribute=id


# 세션 쿠키 설정 (공통)
server.servlet.session.cookie.same-site=lax
server.servlet.session.cookie.http-only=true

# Cache 설정 (backoffice 브랜치)
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=3600s

# Encryption properties (리프레시 토큰 암호화/복호화 - login 브랜치)
encryption.password=${ENCRYPTION_PASSWORD}
encryption.salt=${ENCRYPTION_SALT}

# JWT 설정 (login 브랜치)
jwt.secret=${JWT_SECRET}
jwt.access-token-expiration=3600000
jwt.refresh-token-expiration=604800000

# JWT 쿠키 만료 시간 (초 단위)
# access=3600초(1시간), refresh=604800초(7일)
jwt.cookie.access-token-max-age=3600
jwt.cookie.refresh-token-max-age=604800
