# Raon í”„ë¡œì íŠ¸ í•™ìŠµ ê°€ì´ë“œ

> **Raon**ì€ AI ê¸°ë°˜ ë©´ì ‘ ì¤€ë¹„ í”Œë«í¼ìœ¼ë¡œ, ì·¨ì—… ì¤€ë¹„ìƒë“¤ì´ ì‹¤ì „ê³¼ ê°™ì€ í™˜ê²½ì—ì„œ ë©´ì ‘ ì—°ìŠµì„ í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” í’€ìŠ¤íƒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

---

## ğŸ“š ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ](#2-ê¸°ìˆ -ìŠ¤íƒ)
3. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#3-í”„ë¡œì íŠ¸-êµ¬ì¡°)
4. [ë°±ì—”ë“œ ì•„í‚¤í…ì²˜](#4-ë°±ì—”ë“œ-ì•„í‚¤í…ì²˜)
5. [í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜](#5-í”„ë¡ íŠ¸ì—”ë“œ-ì•„í‚¤í…ì²˜)
6. [ì£¼ìš” ê¸°ëŠ¥ íë¦„](#6-ì£¼ìš”-ê¸°ëŠ¥-íë¦„)
7. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#7-ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
8. [ì¸ì¦ ë° ë³´ì•ˆ](#8-ì¸ì¦-ë°-ë³´ì•ˆ)
9. [AI í†µí•©](#9-ai-í†µí•©)
10. [ë°°í¬ ë° ì¸í”„ë¼](#10-ë°°í¬-ë°-ì¸í”„ë¼)
11. [ê°œë°œ ê°€ì´ë“œ](#11-ê°œë°œ-ê°€ì´ë“œ)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í•µì‹¬ ê¸°ëŠ¥

- **AI ë©´ì ‘ ì‹œë®¬ë ˆì´ì…˜**: PersoAI Live SDKë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìŒì„± ê¸°ë°˜ ë©´ì ‘ ì—°ìŠµ
- **ì´ë ¥ì„œ/ìì†Œì„œ ì‘ì„± ë° ì²¨ì‚­**: AI(Gemini)ë¥¼ í™œìš©í•œ ì„œë¥˜ ì‘ì„± ì§€ì› ë° í”¼ë“œë°±
- **ë©´ì ‘ í”¼ë“œë°± ë¶„ì„**: 5ê°€ì§€ í‰ê°€ í•­ëª©(ì í•©ì„±, êµ¬ì²´ì„±, ë…¼ë¦¬ì„±, ì§„ì •ì„±, ì°¨ë³„ì„±)ì— ëŒ€í•œ AI ë¶„ì„
- **í•™ìŠµ ê¸°ë¡ ëŒ€ì‹œë³´ë“œ**: ë©´ì ‘ ì—°ìŠµ íˆìŠ¤í† ë¦¬ ë° ì„±ê³¼ ë¶„ì„
- **ì†Œì…œ ë¡œê·¸ì¸**: Google, Kakao OAuth2 ê¸°ë°˜ ê°„í¸ ë¡œê·¸ì¸

### 1.2 í”„ë¡œì íŠ¸ íŠ¹ì§•

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **ì‹¤ì „í˜• ë©´ì ‘ ì—°ìŠµ** | 6ê°€ì§€ ì§ì¢…ë³„ ë§ì¶¤ ë©´ì ‘ ì‹œë®¬ë ˆì´ì…˜ |
| **AI ê¸°ë°˜ í”¼ë“œë°±** | Gemini 2.5 Flash ëª¨ë¸ì„ í™œìš©í•œ ì¦‰ê°ì ì¸ í”¼ë“œë°± |
| **ìŒì„± ì¸í„°í˜ì´ìŠ¤** | STT/TTS ê¸°ìˆ ì„ í™œìš©í•œ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”í˜• ë©´ì ‘ |
| **ì‚¬ìš©ì ì¤‘ì‹¬ ì„¤ê³„** | ì§ê´€ì ì¸ UI/UXì™€ ë°˜ì‘í˜• ë””ìì¸ |

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1 ë°±ì—”ë“œ (Spring Boot)

```
Java 21
â””â”€ Spring Boot 3.4.10
   â”œâ”€ Spring Web (RESTful API)
   â”œâ”€ Spring WebFlux (ë¹„ë™ê¸° ì²˜ë¦¬)
   â”œâ”€ Spring Security (ì¸ì¦/ì¸ê°€)
   â”œâ”€ Spring Data JPA (ORM)
   â”œâ”€ Spring OAuth2 Client (ì†Œì…œ ë¡œê·¸ì¸)
   â”œâ”€ JWT (jjwt 0.12.3)
   â”œâ”€ MySQL Connector 8.4.0
   â””â”€ Caffeine Cache
```

### 2.2 í”„ë¡ íŠ¸ì—”ë“œ (React)

```
React 19.2.0
â”œâ”€ React Router DOM 6.30.1 (ë¼ìš°íŒ…)
â”œâ”€ Framer Motion 12.23.24 (ì• ë‹ˆë©”ì´ì…˜)
â”œâ”€ Lucide React 0.554.0 (ì•„ì´ì½˜)
â”œâ”€ Recharts 3.5.1 (ì°¨íŠ¸)
â””â”€ @google/genai 1.30.0 (Gemini SDK)
```

### 2.3 ì™¸ë¶€ API ë° SDK

| ì„œë¹„ìŠ¤ | ìš©ë„ | ë²„ì „ |
|--------|------|------|
| **PersoAI Live SDK** | AI ìŒì„± ì±„íŒ… ì„¸ì…˜ ê´€ë¦¬ | v1.0.8 |
| **Google Gemini API** | ìì†Œì„œ ì²¨ì‚­ ë° ë©´ì ‘ í”¼ë“œë°± | Gemini 2.5 Flash |
| **Google OAuth2** | êµ¬ê¸€ ì†Œì…œ ë¡œê·¸ì¸ | - |
| **Kakao OAuth2** | ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸ | - |

### 2.4 ë°ì´í„°ë² ì´ìŠ¤ ë° ì¸í”„ë¼

```
MySQL 8.x
Docker + Docker Compose
Nginx (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ)
systemd (ì„œë¹„ìŠ¤ ê´€ë¦¬)
```

---

## 3. í”„ë¡œì íŠ¸ êµ¬ì¡°

### 3.1 ì „ì²´ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
Raon/
â”œâ”€â”€ backend/                        # Spring Boot ë°±ì—”ë“œ
â”‚   â””â”€â”€ src/main/java/com/example/raon/
â”‚       â”œâ”€â”€ config/                 # ì„¤ì • í´ë˜ìŠ¤
â”‚       â”œâ”€â”€ controller/             # REST API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚       â”œâ”€â”€ domain/                 # ì—”í‹°í‹° (JPA)
â”‚       â”œâ”€â”€ dto/                    # Data Transfer Objects
â”‚       â”œâ”€â”€ repository/             # JPA ë ˆí¬ì§€í† ë¦¬
â”‚       â”œâ”€â”€ service/                # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚       â”œâ”€â”€ security/               # ë³´ì•ˆ ê´€ë ¨
â”‚       â””â”€â”€ exception/              # ì˜ˆì™¸ ì²˜ë¦¬
â”‚
â”œâ”€â”€ frontend/                       # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/             # React ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ hooks/                  # Custom Hooks
â”‚       â””â”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹°
â”‚
â”œâ”€â”€ deploy/                         # ë°°í¬ ê´€ë ¨ íŒŒì¼
â”‚   â”œâ”€â”€ nginx-raon.conf             # Nginx ì„¤ì •
â”‚   â””â”€â”€ raon-backend.service        # systemd ì„œë¹„ìŠ¤
â”‚
â””â”€â”€ sql/                            # SQL ìŠ¤í¬ë¦½íŠ¸
```

### 3.2 ê³„ì¸µí˜• ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Controller Layer              â”‚  â† REST API ì—”ë“œí¬ì¸íŠ¸
â”‚       (UserController,              â”‚     (@RestController)
â”‚        ResumeController, ...)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Service Layer                 â”‚  â† ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚       (UserService,                 â”‚     (@Service)
â”‚        ResumeService, ...)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Repository Layer              â”‚  â† ë°ì´í„° ì•¡ì„¸ìŠ¤
â”‚       (UserRepository,              â”‚     (JPA Repository)
â”‚        ResumeRepository, ...)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       Domain Layer                  â”‚  â† ì—”í‹°í‹° (JPA Entity)
â”‚       (User, Resume, ...)           â”‚     (@Entity)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ë°±ì—”ë“œ ì•„í‚¤í…ì²˜

### 4.1 ì£¼ìš” ë„ë©”ì¸ ì—”í‹°í‹°

#### 4.1.1 User (ì‚¬ìš©ì)

```java
@Entity
@Table(name = "user")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long userId;

    @Column(unique = true)
    private String email;

    @Enumerated(EnumType.STRING)
    private SocialType socialType;  // GOOGLE, KAKAO

    @Column(unique = true, nullable = false)
    private String socialId;        // OAuth Providerì˜ ê³ ìœ  ID

    private String nickname;
    private String profileImage;
    private LocalDateTime joinDate;
    private LocalDateTime lastLogin;
    private LocalDateTime deletedAt; // ì†Œí”„íŠ¸ ì‚­ì œ
}
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- `socialId`ë¡œ ì‚¬ìš©ìë¥¼ ì‹ë³„ (OAuth Providerì˜ ê³ ìœ  ID)
- ì†Œí”„íŠ¸ ì‚­ì œ ì§€ì› (`deletedAt` í•„ë“œ)
- ì´ë©”ì¼ì€ ì„ íƒì  (ì†Œì…œ ë¡œê·¸ì¸ë§Œ ì‚¬ìš© ê°€ëŠ¥)

#### 4.1.2 Resume (ì´ë ¥ì„œ)

```java
@Entity
@Table(name = "resume")
public class Resume {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "user_id", nullable = false)
    private User user;              // ì‚¬ìš©ìë‹¹ ìµœëŒ€ 5ê°œ

    private String title;           // ì´ë ¥ì„œ ì œëª©
    private String name;
    private String phone;
    private String email;
    private String desiredPosition; // í¬ë§ ì§ë¬´
    private String skills;          // ê¸°ìˆ /ì—­ëŸ‰
    private Boolean isDefault;      // ê¸°ë³¸ ì´ë ¥ì„œ ì—¬ë¶€

    @OneToMany(mappedBy = "resume", cascade = CascadeType.ALL)
    private List<Education> educations;  // í•™ë ¥

    @OneToMany(mappedBy = "resume", cascade = CascadeType.ALL)
    private List<Career> careers;        // ê²½ë ¥
}
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- ì‚¬ìš©ìë‹¹ ìµœëŒ€ 5ê°œì˜ ì´ë ¥ì„œ
- í•™ë ¥(Education)ê³¼ ê²½ë ¥(Career)ì€ `@OneToMany` ê´€ê³„
- `isDefault`ë¡œ ê¸°ë³¸ ì´ë ¥ì„œ ì„¤ì • ê°€ëŠ¥

#### 4.1.3 InterviewFeedback (ë©´ì ‘ í”¼ë“œë°±)

```java
@Entity
@Table(name = "interview_feedback")
public class InterviewFeedback {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long feedbackId;

    @ManyToOne(fetch = FetchType.LAZY)
    private User user;

    @ManyToOne(fetch = FetchType.LAZY)
    private ChatRoom chatRoom;

    private BigDecimal score;       // ì¢…í•© ì ìˆ˜ (0-100)
    private String feedbackSummary; // í”¼ë“œë°± ì „ì²´ (JSON)
    private String interviewType;   // ë©´ì ‘ ìœ í˜•
    private LocalDateTime interviewDate;
}
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- `feedbackSummary`ëŠ” JSON í˜•ì‹ìœ¼ë¡œ ì €ì¥
- 5ê°€ì§€ í‰ê°€ í•­ëª© (ì í•©ì„±, êµ¬ì²´ì„±, ë…¼ë¦¬ì„±, ì§„ì •ì„±, ì°¨ë³„ì„±)
- ChatRoomê³¼ ì—°ê²°í•˜ì—¬ ë©´ì ‘ ëŒ€í™” ë‚´ì—­ ì¶”ì  ê°€ëŠ¥

### 4.2 ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

#### 4.2.1 ì¸ì¦ API

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| POST | `/api/auth/refresh` | Access Token ê°±ì‹  |
| POST | `/api/auth/logout` | ë¡œê·¸ì•„ì›ƒ |

#### 4.2.2 ì‚¬ìš©ì API

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ì¸ì¦ |
|--------|------|------|------|
| GET | `/api/users/me` | í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ | âœ… |
| PATCH | `/api/users/me` | ì‚¬ìš©ì ì •ë³´ ìˆ˜ì • | âœ… |
| DELETE | `/api/users/me` | íšŒì› íƒˆí‡´ | âœ… |

#### 4.2.3 ì´ë ¥ì„œ/ìì†Œì„œ API

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ì¸ì¦ |
|--------|------|------|------|
| GET | `/api/resumes` | ì´ë ¥ì„œ ëª©ë¡ ì¡°íšŒ | âœ… |
| POST | `/api/resumes` | ì´ë ¥ì„œ ìƒì„± | âœ… |
| PUT | `/api/resumes/{id}` | ì´ë ¥ì„œ ìˆ˜ì • | âœ… |
| DELETE | `/api/resumes/{id}` | ì´ë ¥ì„œ ì‚­ì œ | âœ… |
| GET | `/api/cover-letters` | ìì†Œì„œ ëª©ë¡ ì¡°íšŒ | âœ… |
| POST | `/api/cover-letters` | ìì†Œì„œ ìƒì„± | âœ… |

#### 4.2.4 AI í”¼ë“œë°± API

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| POST | `/api/gemini/feedback` | ìì†Œì„œ ì²¨ì‚­ ìš”ì²­ |
| POST | `/api/gemini/interview-feedback` | ë©´ì ‘ í”¼ë“œë°± ìš”ì²­ |

#### 4.2.5 ë©´ì ‘ ì„¸ì…˜ API

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| POST | `/api/sessions` | PersoAI ì„¸ì…˜ ìƒì„± |
| POST | `/api/sessions/{id}/messages` | ë©”ì‹œì§€ ì „ì†¡ |
| GET | `/api/sessions/{id}/messages` | ë©”ì‹œì§€ ì¡°íšŒ |

### 4.3 ì„œë¹„ìŠ¤ ë ˆì´ì–´ í•µì‹¬ ë¡œì§

#### 4.3.1 ResumeService

```java
@Service
@Transactional
public class ResumeService {

    // ì´ë ¥ì„œ ìƒì„± (ìµœëŒ€ 5ê°œ ì œí•œ)
    public ResumeResponse createResume(Long userId, ResumeRequest request) {
        User user = userRepository.findById(userId)
            .orElseThrow(() -> new UserNotFoundException());

        // ì´ë ¥ì„œ ê°œìˆ˜ í™•ì¸
        long count = resumeRepository.countByUserId(userId);
        if (count >= 5) {
            throw new MaxResumeLimitException("ì´ë ¥ì„œëŠ” ìµœëŒ€ 5ê°œê¹Œì§€ ìƒì„± ê°€ëŠ¥í•©ë‹ˆë‹¤");
        }

        Resume resume = Resume.builder()
            .user(user)
            .title(request.getTitle())
            .name(request.getName())
            // ... ê¸°íƒ€ í•„ë“œ
            .build();

        return ResumeResponse.from(resumeRepository.save(resume));
    }

    // ê¸°ë³¸ ì´ë ¥ì„œ ì„¤ì •
    public void setDefaultResume(Long userId, Long resumeId) {
        // ê¸°ì¡´ ê¸°ë³¸ ì´ë ¥ì„œ í•´ì œ
        resumeRepository.findByUserIdAndIsDefaultTrue(userId)
            .ifPresent(r -> {
                r.setIsDefault(false);
                resumeRepository.save(r);
            });

        // ìƒˆë¡œìš´ ê¸°ë³¸ ì´ë ¥ì„œ ì„¤ì •
        Resume resume = resumeRepository.findByIdAndUserId(resumeId, userId)
            .orElseThrow(() -> new ResumeNotFoundException());
        resume.setIsDefault(true);
        resumeRepository.save(resume);
    }
}
```

#### 4.3.2 InterviewFeedbackService

```java
@Service
@Transactional
public class InterviewFeedbackService {

    // Geminië¡œ ë©´ì ‘ í”¼ë“œë°± ìƒì„±
    public InterviewFeedbackResponse createFeedback(
            Long userId, InterviewFeedbackRequest request) {

        // 1. Gemini API í˜¸ì¶œ
        String feedbackJson = callGeminiAPI(request.getMessages());

        // 2. í”¼ë“œë°± íŒŒì‹±
        FeedbackData feedback = parseJSON(feedbackJson);

        // 3. DB ì €ì¥
        InterviewFeedback entity = InterviewFeedback.builder()
            .user(userRepository.findById(userId).orElseThrow())
            .chatRoom(chatRoomRepository.findById(request.getChatId()).orElse(null))
            .score(BigDecimal.valueOf(feedback.getOverallScore()))
            .feedbackSummary(feedbackJson)
            .interviewType(request.getInterviewType())
            .interviewDate(LocalDateTime.now())
            .build();

        interviewFeedbackRepository.save(entity);

        // 4. í•™ìŠµ ê¸°ë¡ ì—…ë°ì´íŠ¸
        learningHistoryRepository.save(LearningHistory.builder()
            .userId(userId)
            .score(feedback.getOverallScore())
            .createdAt(LocalDateTime.now())
            .build());

        return InterviewFeedbackResponse.from(entity);
    }
}
```

---

## 5. í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜

### 5.1 ì£¼ìš” í˜ì´ì§€ êµ¬ì„±

```
App (ë£¨íŠ¸)
â”œâ”€â”€ TopBar (ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜)
â”œâ”€â”€ Routes
â”‚   â”œâ”€â”€ / (í™ˆ)                   â†’ RaonHome
â”‚   â”œâ”€â”€ /login                   â†’ RaonSocialLogin
â”‚   â”œâ”€â”€ /account                 â†’ AccountEdit (ì¸ì¦ í•„ìš”)
â”‚   â”œâ”€â”€ /avatar                  â†’ RaonAvatar
â”‚   â”œâ”€â”€ /chat/:id                â†’ RaonChatPerso (ë©´ì ‘ ì—°ìŠµ)
â”‚   â”œâ”€â”€ /resume                  â†’ RaonResume (ì¸ì¦ í•„ìš”)
â”‚   â”œâ”€â”€ /Dashboard               â†’ InterviewScorePage (ì¸ì¦ í•„ìš”)
â”‚   â””â”€â”€ /backoffice              â†’ RaonBackoffice
â””â”€â”€ Footer
```

### 5.2 í•µì‹¬ ì»´í¬ë„ŒíŠ¸

#### 5.2.1 RaonHome.jsx (í™ˆ í˜ì´ì§€)

**ì—­í• :**
- ì„œë¹„ìŠ¤ ì†Œê°œ
- ì£¼ìš” ê¸°ëŠ¥ ì¹´ë“œ
- CTA (Call To Action)

**ì£¼ìš” ì½”ë“œ:**
```jsx
function RaonHome() {
  const navigate = useNavigate();

  return (
    <div className="home-container">
      <div className="hero-section">
        <h1>ì™„ë²½í•œ ë©´ì ‘ì„ ìœ„í•œ ë‹¹ì‹ ë§Œì˜ AI ì•„ë°”íƒ€ ì½”ì¹˜</h1>
        <button onClick={() => navigate('/avatar')}>
          ì§€ê¸ˆ ì‹œì‘í•˜ê¸°
        </button>
      </div>

      <div className="service-cards">
        <ServiceCard
          title="AI ë©´ì ‘ ì—°ìŠµ"
          description="ì‹¤ì „ê³¼ ê°™ì€ ë©´ì ‘ í™˜ê²½"
          icon={<Bot />}
        />
        <ServiceCard
          title="ì´ë ¥ì„œ/ìì†Œì„œ ì‘ì„±"
          description="AI ì²¨ì‚­ í”¼ë“œë°±"
          icon={<FileText />}
        />
        <ServiceCard
          title="í•™ìŠµ ê¸°ë¡"
          description="ì„±ì¥ ê³¼ì • ì¶”ì "
          icon={<BarChart />}
        />
      </div>
    </div>
  );
}
```

#### 5.2.2 RaonAvatar.jsx (ì•„ë°”íƒ€ ì„ íƒ)

**ì—­í• :**
- 6ê°€ì§€ ì§ì¢…ë³„ ì•„ë°”íƒ€ ì„ íƒ
- ë©´ì ‘ ìœ í˜• ì„ íƒ
- ì„¸ì…˜ ì‹œì‘

**ì£¼ìš” ìƒíƒœ:**
```jsx
const [selectedChatbot, setSelectedChatbot] = useState(null);
const [chatbots, setChatbots] = useState([]);
const [personality, setPersonality] = useState('ì¹œì ˆí•œ');
const [interviewType, setInterviewType] = useState('ê¸°ìˆ ë©´ì ‘');
```

**API í˜¸ì¶œ:**
```jsx
useEffect(() => {
  // ì±—ë´‡ ëª©ë¡ ì¡°íšŒ
  const loadChatbots = async () => {
    const response = await fetch('/raon/api/chatbots/public');
    const data = await response.json();
    setChatbots(data);
  };

  loadChatbots();
}, []);

const startInterview = () => {
  navigate(`/chat/${selectedChatbot.id}`, {
    state: {
      avatarName: selectedChatbot.chatbotName,
      personality: personality,
      interviewType: interviewType
    }
  });
};
```

#### 5.2.3 RaonChatPerso.jsx (ë©´ì ‘ ì—°ìŠµ)

**ì—­í• :**
- PersoAI Live SDKë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ìŒì„± ë©´ì ‘
- STT/TTS ê¸°ë°˜ ëŒ€í™”
- ì±„íŒ… ë©”ì‹œì§€ ì €ì¥
- ë©´ì ‘ í”¼ë“œë°± ìš”ì²­

**ì£¼ìš” ìƒíƒœ:**
```jsx
const [persoSession, setPersoSession] = useState(null);
const [isSessionActive, setIsSessionActive] = useState(false);
const [messages, setMessages] = useState([]);
const [isListening, setIsListening] = useState(false);
const [isTTSOn, setIsTTSOn] = useState(true);
```

**ì„¸ì…˜ ìƒì„± íë¦„:**
```jsx
const startSession = async () => {
  try {
    // 1. ìê²©ì¦ëª… ì¡°íšŒ
    const credResponse = await fetch('/raon/api/persoai/credentials');
    const { apiServer, apiKey } = await credResponse.json();

    // 2. ì„¸ì…˜ ID ìƒì„±
    const sessionId = await window.PersoLiveSDK.createSessionId(
      apiServer, apiKey, llmType, ttsType, modelStyle,
      promptId, documentId, backgroundImage, ...
    );

    // 3. ì„¸ì…˜ ìƒì„±
    const newSession = await window.PersoLiveSDK.createSession(
      apiServer, sessionId, 1280, 720, true
    );

    // 4. ë¹„ë””ì˜¤ ì—°ê²°
    newSession.on('connectionCompleted', () => {
      videoRef.current.srcObject = newSession.getMediaStream();
      videoRef.current.play();
    });

    // 5. ë©”ì‹œì§€ ìˆ˜ì‹ 
    newSession.on('textResponse', (text) => {
      const aiMessage = {
        id: Date.now(),
        role: 'assistant',
        text: text,
        timestamp: new Date()
      };
      setMessages(prev => [...prev, aiMessage]);
    });

    setPersoSession(newSession);
    setIsSessionActive(true);
  } catch (error) {
    console.error('ì„¸ì…˜ ìƒì„± ì‹¤íŒ¨:', error);
  }
};
```

**ìŒì„± ì¸ì‹ (STT):**
```jsx
const startListening = () => {
  const recognition = new window.webkitSpeechRecognition();
  recognition.lang = 'ko-KR';
  recognition.continuous = true;
  recognition.interimResults = true;

  recognition.onresult = (event) => {
    const transcript = Array.from(event.results)
      .map(result => result[0].transcript)
      .join('');

    if (event.results[0].isFinal) {
      sendMessage(transcript);
    }
  };

  recognition.start();
  setIsListening(true);
};
```

**ë©´ì ‘ í”¼ë“œë°± ìš”ì²­:**
```jsx
const handleRequestFeedback = async () => {
  setIsFeedbackLoading(true);

  try {
    const response = await fetch('/raon/api/gemini/interview-feedback', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        messages: messages,
        chatId: chatRoomId,
        interviewType: interviewType
      })
    });

    const data = await response.json();
    const feedback = JSON.parse(data.text);

    setFeedbackData(feedback);
    setIsFeedbackModalOpen(true);
  } catch (error) {
    console.error('í”¼ë“œë°± ìš”ì²­ ì‹¤íŒ¨:', error);
  } finally {
    setIsFeedbackLoading(false);
  }
};
```

#### 5.2.4 RaonResume.jsx (ì´ë ¥ì„œ/ìì†Œì„œ)

**ì—­í• :**
- ì´ë ¥ì„œ/ìì†Œì„œ ì‘ì„± ë° ê´€ë¦¬
- AI ì²¨ì‚­ ìš”ì²­
- í•™ë ¥/ê²½ë ¥ ì¶”ê°€

**ì£¼ìš” ìƒíƒœ:**
```jsx
const [activeTab, setActiveTab] = useState('resume');
const [resumes, setResumes] = useState([]);
const [coverLetters, setCoverLetters] = useState([]);
const [selectedResume, setSelectedResume] = useState(null);
```

**API í˜¸ì¶œ:**
```jsx
// ì´ë ¥ì„œ ìƒì„±
const createResume = async (resumeData) => {
  const response = await fetchWithAuth('/raon/api/resumes', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(resumeData)
  });

  if (response.ok) {
    alert('ì´ë ¥ì„œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤');
    loadResumes();
  }
};

// AI ì²¨ì‚­ ìš”ì²­
const requestFeedback = async (coverLetter) => {
  const response = await fetch('/raon/api/gemini/feedback', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      coverLetter: coverLetter.content,
      name: resume.name,
      desiredPosition: resume.desiredPosition,
      skills: resume.skills
    })
  });

  const data = await response.json();
  const feedback = JSON.parse(data.text);
  displayFeedback(feedback);
};
```

### 5.3 API í†µì‹  ìœ í‹¸ë¦¬í‹°

#### 5.3.1 fetchWithAuth (utils/api.js)

```jsx
export async function fetchWithAuth(url, options = {}) {
  // 1. ì²« ë²ˆì§¸ ìš”ì²­
  let response = await fetch(url, {
    ...options,
    credentials: 'include'  // ì¿ í‚¤ í¬í•¨
  });

  // 2. 401 Unauthorized ì‹œ í† í° ê°±ì‹ 
  if (response.status === 401) {
    const refreshResponse = await fetch('/raon/api/auth/refresh', {
      method: 'POST',
      credentials: 'include'
    });

    if (refreshResponse.ok) {
      // 3. í† í° ê°±ì‹  ì„±ê³µ ì‹œ ì›ë˜ ìš”ì²­ ì¬ì‹œë„
      response = await fetch(url, {
        ...options,
        credentials: 'include'
      });
    } else {
      // 4. í† í° ê°±ì‹  ì‹¤íŒ¨ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
      window.location.href = '/login';
    }
  }

  return response;
}
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- ìë™ í† í° ê°±ì‹ 
- ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦ (HttpOnly)
- ê°±ì‹  ì‹¤íŒ¨ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

---

## 6. ì£¼ìš” ê¸°ëŠ¥ íë¦„

### 6.1 OAuth2 ì†Œì…œ ë¡œê·¸ì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‚¬ìš©ì      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. "êµ¬ê¸€ë¡œ ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í”„ë¡ íŠ¸ì—”ë“œ: RaonSocialLogin.jsx     â”‚
â”‚  window.location.href =              â”‚
â”‚    "/raon/oauth2/authorization/google"
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°±ì—”ë“œ: Spring Security OAuth2      â”‚
â”‚  2. Google OAuth2 ì¸ì¦ URL ìƒì„±      â”‚
â”‚  3. Google ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google OAuth2 Provider              â”‚
â”‚  4. ì‚¬ìš©ì ê³„ì • ì„ íƒ ë° ë™ì˜         â”‚
â”‚  5. Authorization Code ë°œê¸‰          â”‚
â”‚  6. Redirect: /login/oauth2/code/google
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°±ì—”ë“œ: CustomOAuth2UserService     â”‚
â”‚  7. Authorization Code â†’ Access Tokenâ”‚
â”‚  8. Access Token â†’ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ  â”‚
â”‚  9. socialId ì¶”ì¶œ (Google: sub)      â”‚
â”‚  10. DBì—ì„œ ì‚¬ìš©ì ì¡°íšŒ/ìƒì„±         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°±ì—”ë“œ: OAuth2LoginSuccessHandler   â”‚
â”‚  11. JWT Access Token ìƒì„± (1ì‹œê°„)   â”‚
â”‚  12. JWT Refresh Token ìƒì„± (7ì¼)    â”‚
â”‚  13. Refresh Token DB ì €ì¥           â”‚
â”‚  14. JWTë¥¼ HttpOnly ì¿ í‚¤ë¡œ ì„¤ì •     â”‚
â”‚  15. í”„ë¡ íŠ¸ì—”ë“œ URLë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í”„ë¡ íŠ¸ì—”ë“œ: App.js                   â”‚
â”‚  16. GET /api/users/me (ë¡œê·¸ì¸ í™•ì¸) â”‚
â”‚  17. ì‚¬ìš©ì ì •ë³´ ìˆ˜ì‹                 â”‚
â”‚  18. setUser(userData)               â”‚
â”‚  19. setIsLoggedIn(true)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- OAuth2 Providerì˜ `sub` (ë˜ëŠ” `id`)ë¥¼ `socialId`ë¡œ ì €ì¥
- JWT Access Token (1ì‹œê°„) + Refresh Token (7ì¼)
- HttpOnly ì¿ í‚¤ë¡œ XSS ê³µê²© ë°©ì§€
- SameSite=Laxë¡œ CSRF ê³µê²© ë°©ì§€

### 6.2 í† í° ê°±ì‹  íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í”„ë¡ íŠ¸ì—”ë“œ   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. API ìš”ì²­ (Access Token ë§Œë£Œ)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°±ì—”ë“œ: JwtAuthenticationFilter     â”‚
â”‚  2. Access Token ê²€ì¦ ì‹¤íŒ¨           â”‚
â”‚  3. 401 Unauthorized ì‘ë‹µ            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í”„ë¡ íŠ¸ì—”ë“œ: fetchWithAuth           â”‚
â”‚  4. 401 ê°ì§€                         â”‚
â”‚  5. POST /api/auth/refresh           â”‚
â”‚     (Refresh Token in Cookie)        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°±ì—”ë“œ: AuthController.refreshToken â”‚
â”‚  6. Refresh Token ê²€ì¦               â”‚
â”‚  7. DBì—ì„œ Refresh Token í™•ì¸        â”‚
â”‚  8. ìƒˆë¡œìš´ Access Token ìƒì„±         â”‚
â”‚  9. ìƒˆ Access Tokenì„ ì¿ í‚¤ë¡œ ì„¤ì •   â”‚
â”‚  10. 200 OK ì‘ë‹µ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í”„ë¡ íŠ¸ì—”ë“œ: fetchWithAuth           â”‚
â”‚  11. í† í° ê°±ì‹  ì„±ê³µ                  â”‚
â”‚  12. ì›ë˜ API ìš”ì²­ ì¬ì‹œë„            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 AI ë©´ì ‘ ì‹œë®¬ë ˆì´ì…˜ ì „ì²´ íë¦„

```
1. ì•„ë°”íƒ€ ì„ íƒ (RaonAvatar)
   - 6ê°€ì§€ ì§ì¢…ë³„ ì±—ë´‡ ì„ íƒ
   - ë©´ì ‘ ìœ í˜• ì„ íƒ (ê¸°ìˆ /ì¸ì„±/PT)
   â†“
2. ì±—ë´‡ ì„¤ì • ë¡œë“œ (/api/chatbots/{id})
   - LLM, TTS, STT íƒ€ì…
   - í”„ë¡¬í”„íŠ¸ ID, ë¬¸ì„œ ID
   â†“
3. PersoAI ìê²©ì¦ëª… ì¡°íšŒ (/api/persoai/credentials)
   - API Server, API Key
   â†“
4. PersoAI SDKë¡œ ì„¸ì…˜ ìƒì„±
   - createSessionId()
   - createSession()
   â†“
5. ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ ì—°ê²°
   - connectionCompleted ì´ë²¤íŠ¸
   - videoRef.srcObject = session.getMediaStream()
   â†“
6. ìŒì„± ëŒ€í™” ì‹œì‘
   - STT: ì‚¬ìš©ì ìŒì„± â†’ í…ìŠ¤íŠ¸
   - LLM: AI ë©´ì ‘ê´€ ì‘ë‹µ ìƒì„±
   - TTS: í…ìŠ¤íŠ¸ â†’ AI ìŒì„±
   â†“
7. ë©”ì‹œì§€ ì €ì¥ (DB)
   - ChatRoom ìƒì„±
   - Message ì €ì¥ (role, content)
   â†“
8. ë©´ì ‘ ì¢…ë£Œ í›„ í”¼ë“œë°± ìš”ì²­
   - POST /api/gemini/interview-feedback
   - Gemini API í˜¸ì¶œ
   - 5ê°€ì§€ í‰ê°€ í•­ëª© ë¶„ì„
   â†“
9. í”¼ë“œë°± ì €ì¥ (DB)
   - interview_feedback í…Œì´ë¸”
   - feedbackSummary (JSON)
   â†“
10. í•™ìŠµ ê¸°ë¡ ì—…ë°ì´íŠ¸
    - learning_history í…Œì´ë¸”
    - score, createdAt
```

### 6.4 ìì†Œì„œ ì²¨ì‚­ íë¦„

```
1. ì´ë ¥ì„œ ì‘ì„± (RaonResume)
   - ê¸°ë³¸ ì •ë³´, í•™ë ¥, ê²½ë ¥ ì…ë ¥
   â†“
2. ìì†Œì„œ ì‘ì„±
   - íšŒì‚¬/ì§ë¬´ ì •ë³´
   - ìì†Œì„œ ë‚´ìš©
   â†“
3. "AI ì²¨ì‚­ ìš”ì²­" ë²„íŠ¼ í´ë¦­
   â†“
4. POST /api/gemini/feedback
   - coverLetter, name, desiredPosition, skills ì „ì†¡
   â†“
5. Gemini API í˜¸ì¶œ
   - í”„ë¡¬í”„íŠ¸: ìì†Œì„œ ì²¨ì‚­ ì „ë¬¸ê°€ ì—­í• 
   - ëª¨ë¸: gemini-2.5-flash
   â†“
6. Gemini API ì‘ë‹µ (JSON)
   - 4ê°€ì§€ í‰ê°€ í•­ëª©
     1. ì „ë°˜ì ì¸ ì¸ìƒ
     2. êµ¬ì¡°ì™€ ë…¼ë¦¬ì„±
     3. êµ¬ì²´ì„±ê³¼ ì‚¬ë¡€
     4. ë¬¸ë²•ê³¼ í‘œí˜„
   - ê° í•­ëª©ë³„: ì ìˆ˜, ê°•ì , ê°œì„ ì , ì œì•ˆ
   â†“
7. í”¼ë“œë°± ëª¨ë‹¬ë¡œ í‘œì‹œ
   - í•­ëª©ë³„ ì ìˆ˜ ë° ìƒì„¸ í”¼ë“œë°±
   - ì „ì²´ ìš”ì•½ ë° ì¶”ì²œ ì ìˆ˜
```

---

## 7. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 7.1 ERD (ì£¼ìš” í…Œì´ë¸”)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     user     â”‚       â”‚   refresh_token  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ user_id (PK) â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ user_id (FK)     â”‚
â”‚ email        â”‚       â”‚ token            â”‚
â”‚ social_type  â”‚       â”‚ expires_at       â”‚
â”‚ social_id    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ nickname     â”‚
â”‚ profile_img  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                   â”‚
       â†“                                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    resume    â”‚                   â”‚ cover_letter â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ resume_id(PK)â”‚                   â”‚ id (PK)      â”‚
â”‚ user_id (FK) â”‚                   â”‚ user_id (FK) â”‚
â”‚ title        â”‚                   â”‚ title        â”‚
â”‚ name         â”‚                   â”‚ content      â”‚
â”‚ is_default   â”‚                   â”‚ is_default   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚              â”‚
       â†“              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  education  â”‚ â”‚  career  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)     â”‚ â”‚ id (PK)  â”‚
â”‚ resume_id   â”‚ â”‚ resume_idâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  chat_room   â”‚       â”‚     message      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ chat_id (PK) â”‚â”€â”€â”€â”€â”€â”€â”€â”‚ chat_id (FK)     â”‚
â”‚ perso_sess_idâ”‚       â”‚ role             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ content          â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ interview_feedback  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ feedback_id (PK)    â”‚
â”‚ user_id (FK)        â”‚
â”‚ chat_id (FK)        â”‚
â”‚ score               â”‚
â”‚ feedback_summary    â”‚  â† JSON í˜•ì‹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  learning_history   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)             â”‚
â”‚ user_id             â”‚
â”‚ score               â”‚
â”‚ created_at          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ì£¼ìš” í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ

#### 7.2.1 user í…Œì´ë¸”

```sql
CREATE TABLE user (
    user_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    email VARCHAR(100) UNIQUE,
    social_type VARCHAR(20) NOT NULL,     -- GOOGLE, KAKAO
    social_id VARCHAR(255) NOT NULL UNIQUE,
    nickname VARCHAR(50),
    profile_image VARCHAR(500),
    join_date TIMESTAMP NOT NULL,
    last_login TIMESTAMP NOT NULL,
    deleted_at TIMESTAMP,                 -- ì†Œí”„íŠ¸ ì‚­ì œ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

#### 7.2.2 resume í…Œì´ë¸”

```sql
CREATE TABLE resume (
    resume_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT NOT NULL,
    title VARCHAR(100) NOT NULL,
    name VARCHAR(50) NOT NULL,
    phone VARCHAR(20),
    email VARCHAR(100),
    desired_position VARCHAR(100),
    skills TEXT,
    cover_letter TEXT,
    is_default BOOLEAN NOT NULL DEFAULT FALSE,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user(user_id) ON DELETE CASCADE
);
```

#### 7.2.3 interview_feedback í…Œì´ë¸”

```sql
CREATE TABLE interview_feedback (
    feedback_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT NOT NULL,
    chat_id BIGINT,
    score DECIMAL(5,2) NOT NULL,
    feedback_summary TEXT,                -- JSON í˜•ì‹
    interview_type VARCHAR(100),
    interview_date TIMESTAMP NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user(user_id) ON DELETE CASCADE,
    FOREIGN KEY (chat_id) REFERENCES chat_room(chat_id) ON DELETE SET NULL
);
```

**feedback_summary JSON êµ¬ì¡°:**
```json
{
  "overallScore": 82,
  "sections": [
    {
      "title": "ì í•©ì„±",
      "score": 85,
      "criteria": "ì§ˆë¬¸ì˜ ì˜ë„ì— ë§ëŠ” ë‹µë³€ì¸ê°€?",
      "feedback": "..."
    },
    ...
  ],
  "summary": "ì „ì²´ì ìœ¼ë¡œ ì¤€ë¹„ëœ ë‹µë³€ì´ë‚˜...",
  "strengths": ["ëª…í™•í•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜", ...],
  "weaknesses": ["ë‹µë³€ì´ ë‹¤ì†Œ ì§§ìŒ", ...]
}
```

---

## 8. ì¸ì¦ ë° ë³´ì•ˆ

### 8.1 JWT í† í° êµ¬ì¡°

#### 8.1.1 Access Token

```json
{
  "sub": "123",                   // userId
  "email": "user@example.com",
  "name": "í™ê¸¸ë™",
  "type": "access",
  "iat": 1234567890,
  "exp": 1234571490               // ë°œê¸‰ í›„ 1ì‹œê°„
}
```

#### 8.1.2 Refresh Token

```json
{
  "sub": "123",                   // userId
  "type": "refresh",
  "iat": 1234567890,
  "exp": 1235172690               // ë°œê¸‰ í›„ 7ì¼
}
```

### 8.2 Spring Security ì„¤ì •

#### 8.2.1 SecurityConfig.java

```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .cors(cors -> cors.configurationSource(corsConfigurationSource()))
            .csrf(csrf -> csrf.disable())
            .sessionManagement(session -> session
                .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)
            )
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/", "/login/**", "/oauth2/**").permitAll()
                .requestMatchers("/api/auth/**").permitAll()
                .requestMatchers(HttpMethod.GET, "/api/users/me").authenticated()
                .anyRequest().authenticated()
            )
            .addFilterBefore(jwtAuthenticationFilter,
                             UsernamePasswordAuthenticationFilter.class)
            .oauth2Login(oauth2 -> oauth2
                .userInfoEndpoint(userInfo -> userInfo
                    .userService(customOAuth2UserService)
                )
                .successHandler(oAuth2LoginSuccessHandler)
            );

        return http.build();
    }
}
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- JWT í•„í„°ë¥¼ `UsernamePasswordAuthenticationFilter` ì•ì— ì¶”ê°€
- OAuth2 ë¡œê·¸ì¸ ì„±ê³µ ì‹œ `OAuth2LoginSuccessHandler` í˜¸ì¶œ
- CSRF ë¹„í™œì„±í™” (JWT ì‚¬ìš©)

#### 8.2.2 JwtAuthenticationFilter.java

```java
@Component
public class JwtAuthenticationFilter extends OncePerRequestFilter {

    @Override
    protected void doFilterInternal(HttpServletRequest request,
                                    HttpServletResponse response,
                                    FilterChain filterChain) {
        try {
            // 1. ì¿ í‚¤ì—ì„œ accessToken ì¶”ì¶œ
            String token = extractTokenFromCookie(request, "accessToken");

            if (token != null && jwtTokenProvider.validateToken(token)) {
                // 2. í† í° íƒ€ì… í™•ì¸
                String tokenType = jwtTokenProvider.getTokenType(token);
                if (!"access".equals(tokenType)) {
                    throw new InvalidTokenException("Invalid token type");
                }

                // 3. userId ì¶”ì¶œ
                Long userId = jwtTokenProvider.getUserIdFromToken(token);

                // 4. SecurityContextì— ì¸ì¦ ì •ë³´ ì„¤ì •
                Authentication authentication = new UsernamePasswordAuthenticationToken(
                    userId, null, Collections.emptyList()
                );
                SecurityContextHolder.getContext().setAuthentication(authentication);
            }
        } catch (Exception e) {
            logger.error("JWT ì¸ì¦ ì‹¤íŒ¨", e);
        }

        filterChain.doFilter(request, response);
    }
}
```

### 8.3 ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

| ë³´ì•ˆ ìš”ì†Œ | êµ¬í˜„ ë°©ë²• | ì„¤ëª… |
|-----------|-----------|------|
| **XSS ë°©ì§€** | HttpOnly ì¿ í‚¤ | JavaScriptì—ì„œ ì¿ í‚¤ ì ‘ê·¼ ë¶ˆê°€ |
| **CSRF ë°©ì§€** | SameSite=Lax | í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìš”ì²­ ì œí•œ |
| **HTTPS** | Secure Flag | ìš´ì˜ í™˜ê²½ì—ì„œ HTTPSë§Œ ì „ì†¡ |
| **SQL Injection** | JPA Parameterized Query | íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ìœ¼ë¡œ ë°©ì§€ |
| **ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”** | N/A | ì†Œì…œ ë¡œê·¸ì¸ë§Œ ì‚¬ìš© (ë¹„ë°€ë²ˆí˜¸ ì—†ìŒ) |
| **í™˜ê²½ ë³€ìˆ˜** | .env íŒŒì¼ | API Key, Secret ë³´í˜¸ |

---

## 9. AI í†µí•©

### 9.1 Google Gemini API

#### 9.1.1 ìì†Œì„œ ì²¨ì‚­ í”„ë¡¬í”„íŠ¸

```
ë‹¹ì‹ ì€ ì „ë¬¸ ì·¨ì—… ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤. ë‹¤ìŒ ìê¸°ì†Œê°œì„œë¥¼ ì²¨ì‚­í•´ì£¼ì„¸ìš”.

[ìê¸°ì†Œê°œì„œ ë‚´ìš©]
{coverLetter}

[ì§€ì›ì ì •ë³´]
- ì´ë¦„: {name}
- í¬ë§ ì§ë¬´: {desiredPosition}
- ê¸°ìˆ  ìŠ¤íƒ: {skills}

ë‹¤ìŒ í•­ëª©ë“¤ì„ í‰ê°€í•˜ê³  êµ¬ì²´ì ì¸ í”¼ë“œë°±ì„ ì œê³µí•´ì£¼ì„¸ìš”:

1. ì „ë°˜ì ì¸ ì¸ìƒ (5ì  ë§Œì )
2. êµ¬ì¡°ì™€ ë…¼ë¦¬ì„± (5ì  ë§Œì )
3. êµ¬ì²´ì„±ê³¼ ì‚¬ë¡€ (5ì  ë§Œì )
4. ë¬¸ë²•ê³¼ í‘œí˜„ (5ì  ë§Œì )

ê° í•­ëª©ì— ëŒ€í•´:
- ì ìˆ˜ì™€ í•¨ê»˜ ì¢‹ì€ ì  2-3ê°œ
- ê°œì„ ì´ í•„ìš”í•œ ì  2-3ê°œ
- êµ¬ì²´ì ì¸ ìˆ˜ì • ì œì•ˆ

ë°˜ë“œì‹œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì£¼ì„¸ìš”:
{
  "overallScore": 85,
  "sections": [
    {
      "title": "ì „ë°˜ì ì¸ ì¸ìƒ",
      "score": 4.5,
      "strengths": ["...", "..."],
      "improvements": ["...", "..."],
      "suggestions": "..."
    },
    ...
  ],
  "summary": "...",
  "recommendedScore": 85
}
```

#### 9.1.2 ë©´ì ‘ í”¼ë“œë°± í”„ë¡¬í”„íŠ¸

```
ë‹¹ì‹ ì€ ì „ë¬¸ ë©´ì ‘ê´€ì´ì HR ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ë‹¤ìŒ ë©´ì ‘ ëŒ€í™” ë‚´ì—­ì„ ë¶„ì„í•˜ì—¬ ë©´ì ‘ìì— ëŒ€í•œ ì¢…í•©ì ì¸ í”¼ë“œë°±ì„ ì œê³µí•´ì£¼ì„¸ìš”.

[ë©´ì ‘ ëŒ€í™” ë‚´ì—­]
{messages}

ë‹¤ìŒ 5ê°€ì§€ í•­ëª©ì„ ê°ê° 100ì  ë§Œì ìœ¼ë¡œ í‰ê°€í•´ì£¼ì„¸ìš”:

1. ì í•©ì„± (100ì ): ì§ˆë¬¸ì˜ ì˜ë„ì— ë§ëŠ” ë‹µë³€ì¸ê°€?
2. êµ¬ì²´ì„± (100ì ): ì¶”ìƒì ì´ì§€ ì•Šê³  êµ¬ì²´ì ì¸ ì‚¬ë¡€ê°€ í¬í•¨ë˜ì—ˆëŠ”ê°€?
3. ë…¼ë¦¬ì„± (100ì ): ë‹µë³€ì˜ íë¦„ì´ ìì—°ìŠ¤ëŸ½ê³  ë…¼ë¦¬ì ì¸ê°€?
4. ì§„ì •ì„± (100ì ): ì§„ì‹¤ì´ ë‹´ê¸´ ë‹µë³€ì¸ê°€?
5. ì°¨ë³„ì„± (100ì ): ë‹¤ë¥¸ ì§€ì›ìì™€ êµ¬ë³„ë˜ëŠ” ê°•ì ì´ ë“œëŸ¬ë‚˜ëŠ”ê°€?

ë°˜ë“œì‹œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì£¼ì„¸ìš”:
{
  "overallScore": 82,
  "sections": [
    {
      "title": "ì í•©ì„±",
      "score": 85,
      "criteria": "ì§ˆë¬¸ì˜ ì˜ë„ì— ë§ëŠ” ë‹µë³€ì¸ê°€?",
      "feedback": "..."
    },
    ...
  ],
  "summary": "...",
  "strengths": ["...", "...", "..."],
  "weaknesses": ["...", "...", "..."]
}
```

### 9.2 PersoAI Live SDK

#### 9.2.1 SDK ë¡œë“œ (public/index.html)

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <script src="https://est-perso-live.github.io/perso-live-sdk/js/v1.0.8/perso-live-sdk.js"></script>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
```

#### 9.2.2 ì„¸ì…˜ ìƒì„± íë¦„

```jsx
// 1. ì„¸ì…˜ ID ìƒì„±
const sessionId = await window.PersoLiveSDK.createSessionId(
  apiServer,                    // https://live-api.perso.ai
  apiKey,                       // plak-xxxxx
  "azure-gpt-4o",              // LLM íƒ€ì…
  "chaehee",                   // TTS íƒ€ì…
  "chaehee_livechat-front-...", // ëª¨ë¸ ìŠ¤íƒ€ì¼
  "plp-xxxxx",                 // í”„ë¡¬í”„íŠ¸ ID
  "pld-xxxxx",                 // ë¬¸ì„œ ID
  "background.png",            // ë°°ê²½ ì´ë¯¸ì§€
  0.5,                         // ìºë¦­í„° X ìœ„ì¹˜
  0.5,                         // ìºë¦­í„° Y ìœ„ì¹˜
  0.8                          // ìºë¦­í„° ë†’ì´
);

// 2. ì„¸ì…˜ ìƒì„±
const session = await window.PersoLiveSDK.createSession(
  apiServer,
  sessionId,
  1280,                        // í™”ë©´ ë„ˆë¹„
  720,                         // í™”ë©´ ë†’ì´
  true                         // ìŒì„± ì±„íŒ… í™œì„±í™”
);

// 3. ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ ì—°ê²°
session.on('connectionCompleted', () => {
  videoRef.current.srcObject = session.getMediaStream();
  videoRef.current.play();
});

// 4. ë©”ì‹œì§€ ìˆ˜ì‹ 
session.on('textResponse', (text) => {
  const aiMessage = {
    role: 'assistant',
    text: text,
    timestamp: new Date()
  };
  setMessages(prev => [...prev, aiMessage]);
});

// 5. ë©”ì‹œì§€ ì „ì†¡
await session.sendUserInput("ì•ˆë…•í•˜ì„¸ìš”");

// 6. ì„¸ì…˜ ì¢…ë£Œ
session.close();
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- SDKëŠ” ê¸€ë¡œë²Œ ë³€ìˆ˜ `window.PersoLiveSDK`ë¡œ ì‚¬ìš©
- ì„¸ì…˜ ID ìƒì„± í›„ ì„¸ì…˜ ìƒì„±
- WebRTC ê¸°ë°˜ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¼
- ì´ë²¤íŠ¸ ê¸°ë°˜ ë©”ì‹œì§€ ìˆ˜ì‹ 

---

## 10. ë°°í¬ ë° ì¸í”„ë¼

### 10.1 Docker ì„¤ì •

#### 10.1.1 Dockerfile (Multi-stage Build)

```dockerfile
# Stage 1: Build
FROM gradle:8.5-jdk21-alpine AS build
WORKDIR /app

COPY build.gradle settings.gradle gradlew ./
COPY gradle ./gradle
RUN gradle dependencies --no-daemon || true

COPY src ./src
RUN gradle clean bootJar --no-daemon -x test

# Stage 2: Runtime
FROM eclipse-temurin:21-jre-alpine
WORKDIR /app

RUN addgroup -g 1001 spring && \
    adduser -D -u 1001 -G spring spring

COPY --from=build /app/build/libs/*.jar app.jar
RUN chown -R spring:spring /app

USER spring
EXPOSE 8080

HEALTHCHECK --interval=30s --timeout=3s \
  CMD wget --spider http://localhost:8080/actuator/health || exit 1

ENTRYPOINT ["java", "-jar", "-Dspring.profiles.active=prod", "app.jar"]
```

**í•µì‹¬ í¬ì¸íŠ¸:**
- Multi-stage Buildë¡œ ì´ë¯¸ì§€ í¬ê¸° ìµœì†Œí™”
- Non-root ì‚¬ìš©ì ì‚¬ìš© (ë³´ì•ˆ)
- Health Checkë¡œ ì»¨í…Œì´ë„ˆ ìƒíƒœ ëª¨ë‹ˆí„°ë§

#### 10.1.2 docker-compose.yml

```yaml
services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_DATABASE: ${MYSQL_DATABASE}
    volumes:
      - mysql_data:/var/lib/mysql
    ports:
      - "3307:3306"
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
      interval: 10s

  backend:
    build: .
    depends_on:
      mysql:
        condition: service_healthy
    environment:
      DB_URL: jdbc:mysql://mysql:3306/${MYSQL_DATABASE}
      SPRING_PROFILES_ACTIVE: prod
    ports:
      - "8081:8086"

  frontend:
    build: ./frontend
    depends_on:
      - backend
    ports:
      - "3000:80"

volumes:
  mysql_data:
```

### 10.2 Nginx ì„¤ì •

```nginx
server {
    listen 80;
    server_name your-domain.com;

    root /opt/Raon/frontend/build;
    index index.html;

    # React Router (ëª¨ë“  ê²½ë¡œë¥¼ index.htmlë¡œ)
    location / {
        try_files $uri $uri/ /index.html;
    }

    # ë°±ì—”ë“œ API í”„ë¡ì‹œ
    location /raon/api/ {
        proxy_pass http://localhost:8086/raon/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    # OAuth2 ê²½ë¡œ í”„ë¡ì‹œ
    location /raon/oauth2/ {
        proxy_pass http://localhost:8086/raon/oauth2/;
    }

    # ì •ì  íŒŒì¼ ìºì‹±
    location ~* \.(js|css|png|jpg|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

### 10.3 ë°°í¬ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# deploy/deploy.sh

# 1. í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
source .env

# 2. Git Pull
git pull origin main

# 3. ë°±ì—”ë“œ ë¹Œë“œ
./gradlew clean bootJar

# 4. í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
cd frontend
npm install
npm run build
cd ..

# 5. systemd ì„œë¹„ìŠ¤ ì¬ì‹œì‘
sudo systemctl restart raon-backend.service

# 6. Nginx ì„¤ì • ì—…ë°ì´íŠ¸ ë° ì¬ì‹œì‘
sudo cp deploy/nginx-raon.conf /etc/nginx/sites-available/raon
sudo systemctl reload nginx

echo "âœ… ë°°í¬ ì™„ë£Œ!"
```

---

## 11. ê°œë°œ ê°€ì´ë“œ

### 11.1 ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

#### 11.1.1 ë°±ì—”ë“œ ì‹¤í–‰

```bash
# 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘ (API Key ë“± ì…ë ¥)

# 2. Gradleë¡œ ì‹¤í–‰
./gradlew bootRun

# 3. ë˜ëŠ” IDEì—ì„œ RaonApplication.java ì‹¤í–‰
```

#### 11.1.2 í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰

```bash
cd frontend
npm install
npm start

# ë¸Œë¼ìš°ì € ìë™ ì‹¤í–‰: http://localhost:3000
```

#### 11.1.3 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

```bash
# MySQL ì„¤ì¹˜ í›„
mysql -u root -p

CREATE DATABASE raon;
CREATE USER 'raon_user'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON raon.* TO 'raon_user'@'localhost';
FLUSH PRIVILEGES;
```

### 11.2 í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

**`.env` íŒŒì¼:**

```bash
# OAuth2
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
KAKAO_CLIENT_ID=your-kakao-client-id
KAKAO_CLIENT_SECRET=your-kakao-client-secret

# JWT
JWT_SECRET=your-jwt-secret-key-at-least-32-characters-long

# API Keys
PERSOAI_API_KEY=plak-xxxxxxxxxxxxxxxx
GEMINI_API_KEY=AIzaSy-xxxxxxxxxxxxxxxx

# CORS
ALLOWED_ORIGINS=http://localhost:3000

# Database
DB_URL=jdbc:mysql://localhost:3306/raon
DB_USERNAME=raon_user
DB_PASSWORD=your-db-password
```

### 11.3 ì½”ë“œ ì»¨ë²¤ì…˜

#### 11.3.1 ë°±ì—”ë“œ (Java)

```java
// í´ë˜ìŠ¤ëª…: PascalCase
public class UserService {

    // ë©”ì„œë“œëª…: camelCase
    public UserResponse getUserById(Long userId) {
        // ...
    }

    // ìƒìˆ˜: UPPER_SNAKE_CASE
    private static final int MAX_RESUME_COUNT = 5;
}
```

#### 11.3.2 í”„ë¡ íŠ¸ì—”ë“œ (JavaScript/React)

```jsx
// ì»´í¬ë„ŒíŠ¸ëª…: PascalCase
function RaonHome() {
  // í•¨ìˆ˜ëª…: camelCase
  const handleButtonClick = () => {
    // ...
  };

  // ìƒìˆ˜: UPPER_SNAKE_CASE
  const MAX_FILE_SIZE = 1024 * 1024;

  return <div>...</div>;
}
```

### 11.4 ë””ë²„ê¹… íŒ

#### 11.4.1 ë°±ì—”ë“œ ë””ë²„ê¹…

```java
// application-dev.properties
logging.level.com.example.raon=DEBUG
logging.level.org.springframework.security=DEBUG
```

#### 11.4.2 í”„ë¡ íŠ¸ì—”ë“œ ë””ë²„ê¹…

```jsx
// utils/logger.js
export const logger = {
  log: (...args) => {
    if (process.env.NODE_ENV === 'development') {
      console.log('[Raon]', ...args);
    }
  },
  error: (...args) => {
    console.error('[Raon Error]', ...args);
  }
};
```

### 11.5 í…ŒìŠ¤íŠ¸ ì‘ì„±

#### 11.5.1 ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ (JUnit 5)

```java
@SpringBootTest
@Transactional
class UserServiceTest {

    @Autowired
    private UserService userService;

    @Test
    @DisplayName("ì‚¬ìš©ì ìƒì„± í…ŒìŠ¤íŠ¸")
    void createUser() {
        // Given
        UserRequest request = new UserRequest("test@example.com", "í™ê¸¸ë™");

        // When
        UserResponse response = userService.createUser(request);

        // Then
        assertThat(response.getEmail()).isEqualTo("test@example.com");
        assertThat(response.getName()).isEqualTo("í™ê¸¸ë™");
    }
}
```

#### 11.5.2 í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ (Jest + React Testing Library)

```jsx
import { render, screen, fireEvent } from '@testing-library/react';
import RaonHome from './RaonHome';

test('ì‹œì‘í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ì•„ë°”íƒ€ í˜ì´ì§€ë¡œ ì´ë™', () => {
  render(<RaonHome />);

  const button = screen.getByText('ì§€ê¸ˆ ì‹œì‘í•˜ê¸°');
  fireEvent.click(button);

  expect(window.location.pathname).toBe('/avatar');
});
```

---

## 12. í•™ìŠµ ë¡œë“œë§µ

### 12.1 ì´ˆê¸‰ (1-2ì£¼)

- [ ] í”„ë¡œì íŠ¸ êµ¬ì¡° íŒŒì•…
- [ ] ë°±ì—”ë“œ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ ì´í•´
- [ ] React ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° íŒŒì•…
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì´í•´
- [ ] ë¡œì»¬ í™˜ê²½ì—ì„œ í”„ë¡œì íŠ¸ ì‹¤í–‰

### 12.2 ì¤‘ê¸‰ (3-4ì£¼)

- [ ] OAuth2 ì†Œì…œ ë¡œê·¸ì¸ íë¦„ ì´í•´
- [ ] JWT ì¸ì¦ ë©”ì»¤ë‹ˆì¦˜ í•™ìŠµ
- [ ] PersoAI Live SDK ì‚¬ìš©ë²• ìˆ™ì§€
- [ ] Gemini API í†µí•© ì´í•´
- [ ] Spring Security ì„¤ì • ë¶„ì„

### 12.3 ê³ ê¸‰ (5ì£¼ ì´ìƒ)

- [ ] ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ (ì˜ˆ: ìƒˆë¡œìš´ ì±—ë´‡ ì¶”ê°€)
- [ ] ì„±ëŠ¥ ìµœì í™” (ìºì‹±, ì¿¼ë¦¬ ìµœì í™”)
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- [ ] Docker ë°°í¬ ìë™í™”
- [ ] ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•

---

## 13. ì¶”ê°€ í•™ìŠµ ìë£Œ

### 13.1 Spring Boot

- [Spring Boot ê³µì‹ ë¬¸ì„œ](https://docs.spring.io/spring-boot/docs/current/reference/html/)
- [Spring Security OAuth2 ê°€ì´ë“œ](https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html)
- [Spring Data JPA ê°€ì´ë“œ](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/)

### 13.2 React

- [React ê³µì‹ ë¬¸ì„œ](https://react.dev/)
- [React Router ê°€ì´ë“œ](https://reactrouter.com/)
- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)

### 13.3 AI/ML

- [Google Gemini API ë¬¸ì„œ](https://ai.google.dev/docs)
- [PersoAI Live SDK ë¬¸ì„œ](https://est-perso-live.github.io/perso-live-sdk/)

---

## 14. FAQ

### Q1. ë¡œì»¬ í™˜ê²½ì—ì„œ OAuth2 ë¡œê·¸ì¸ì´ ì•ˆ ë¼ìš”

**A:** Google/Kakao Developer Consoleì—ì„œ Redirect URIì— `http://localhost:8086/raon/login/oauth2/code/google` (ë˜ëŠ” kakao)ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

### Q2. Access Tokenì´ ë§Œë£Œë˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

**A:** í”„ë¡ íŠ¸ì—”ë“œì˜ `fetchWithAuth` ìœ í‹¸ë¦¬í‹°ê°€ ìë™ìœ¼ë¡œ Refresh Tokenì„ ì‚¬ìš©í•˜ì—¬ Access Tokenì„ ê°±ì‹ í•©ë‹ˆë‹¤.

### Q3. ì´ë ¥ì„œë¥¼ 6ê°œ ì´ìƒ ë§Œë“¤ ìˆ˜ ìˆë‚˜ìš”?

**A:** ì•„ë‹ˆìš”. ì‚¬ìš©ìë‹¹ ìµœëŒ€ 5ê°œë¡œ ì œí•œë˜ì–´ ìˆìŠµë‹ˆë‹¤. `ResumeService`ì—ì„œ ì²´í¬í•©ë‹ˆë‹¤.

### Q4. PersoAI ì„¸ì…˜ì´ ëŠê¸°ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

**A:** ì„¸ì…˜ì´ ëŠê¸°ë©´ `session.on('error')` ì´ë²¤íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì—ëŸ¬ í•¸ë“¤ëŸ¬ì—ì„œ ì¬ì—°ê²° ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Q5. Gemini API í˜¸ì¶œ ë¹„ìš©ì€ ì–¼ë§ˆë‚˜ ë˜ë‚˜ìš”?

**A:** Gemini 2.5 Flash ëª¨ë¸ì˜ ê°€ê²©ì€ [Google AI Studio ê°€ê²© í˜ì´ì§€](https://ai.google.dev/pricing)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

---

## 15. ê¸°ì—¬ ê°€ì´ë“œ

### 15.1 ë¸Œëœì¹˜ ì „ëµ

```
main (ìš´ì˜)
  â†“
develop (ê°œë°œ)
  â†“
feature/* (ê¸°ëŠ¥ ê°œë°œ)
fix/* (ë²„ê·¸ ìˆ˜ì •)
```

### 15.2 ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

```
<type>: <subject>

<body>

<footer>
```

**Type:**
- `feat`: ìƒˆë¡œìš´ ê¸°ëŠ¥
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `refactor`: ë¦¬íŒ©í† ë§
- `docs`: ë¬¸ì„œ ìˆ˜ì •
- `test`: í…ŒìŠ¤íŠ¸ ì½”ë“œ

**ì˜ˆì‹œ:**
```
feat: ì´ë ¥ì„œ PDF ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€

- ì´ë ¥ì„œë¥¼ PDF í˜•ì‹ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥
- react-pdf ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
- /api/resumes/{id}/download ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

Closes #123
```

### 15.3 Pull Request í…œí”Œë¦¿

```markdown
## ë³€ê²½ ì‚¬í•­
- ë³€ê²½ ë‚´ìš© 1
- ë³€ê²½ ë‚´ìš© 2

## í…ŒìŠ¤íŠ¸ ë°©ë²•
1. ë‹¨ê³„ 1
2. ë‹¨ê³„ 2

## ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ
```

---

## ê²°ë¡ 

Raon í”„ë¡œì íŠ¸ëŠ” ìµœì‹  ê¸°ìˆ  ìŠ¤íƒì„ í™œìš©í•œ AI ê¸°ë°˜ ë©´ì ‘ ì¤€ë¹„ í”Œë«í¼ì…ë‹ˆë‹¤. ì´ í•™ìŠµ ê°€ì´ë“œë¥¼ í†µí•´ í”„ë¡œì íŠ¸ì˜ ì „ì²´ êµ¬ì¡°ì™€ ë™ì‘ ì›ë¦¬ë¥¼ ì´í•´í•˜ê³ , íš¨ê³¼ì ìœ¼ë¡œ ê¸°ì—¬í•  ìˆ˜ ìˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤.

**í•µì‹¬ í•™ìŠµ í¬ì¸íŠ¸:**

1. **Spring Boot ê³„ì¸µí˜• ì•„í‚¤í…ì²˜**: Controller â†’ Service â†’ Repository â†’ Domain
2. **OAuth2 ì†Œì…œ ë¡œê·¸ì¸**: Google/Kakao OAuth2 + JWT ì¸ì¦
3. **PersoAI Live SDK**: ì‹¤ì‹œê°„ ìŒì„± ê¸°ë°˜ AI ë©´ì ‘ ì‹œë®¬ë ˆì´ì…˜
4. **Gemini AI**: ìì†Œì„œ ì²¨ì‚­ ë° ë©´ì ‘ í”¼ë“œë°±
5. **React SPA**: React Router + Custom Hooks + API í†µì‹ 
6. **Docker ë°°í¬**: Multi-stage Build + Docker Compose + Nginx

ë” ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆë‹¤ë©´ í”„ë¡œì íŠ¸ READMEë‚˜ ì½”ë“œ ì£¼ì„ì„ ì°¸ê³ í•˜ì„¸ìš”!
